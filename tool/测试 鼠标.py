import socket
import time

import pyautogui,os
# UDP服务器地址和端口
UDP_IP = "192.168.0.105"
UDP_PORT = 8888


import pyautogui

# 获取鼠标位置
pos = pyautogui.position()

# 打印鼠标位置
print(f"Mouse position: x={pos.x}, y={pos.y}")

def send_udp_data(data):
    # 创建UDP套接字
    sock = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)

    # 发送数据
    sock.sendto(data.encode(), (UDP_IP, UDP_PORT))

    # 关闭套接字
    sock.close()

mousedist = {}

def fuyuan():
    data = f"mouse,4,-127,0,\n"  # 根据需求组装数据
    send_udp_data(data)

def main():

    # 循环发送数据
    for x in range(128):
        m = 4  # 左键按下
        y = 0  # 其他坐标值，根据实际情况修改
        data = f"mouse,{m},{x},{y},\n"  # 根据需求组装数据
        # send_udp_data(data)
        # 获取鼠标位置
        time.sleep(1)
        fuyuan()
        time.sleep(1)
        pos = pyautogui.position()
        # print(" pos : ", pos.x, pos.y)

        send_udp_data(data)

        time.sleep(1)
        hpos = pyautogui.position()
        print(" x : ", x," pos : ", pos.x, pos.y, " hpos : ", hpos.x, hpos.y, "差值: " , hpos.x-pos.x, hpos.y-pos.y )

        mousedist[str(x)] =  hpos.x-pos.x
        time.sleep(1)

    print(mousedist)

# main()

mouse = {'0': 0, '1': 0, '2': 1, '3': 1, '4': 2, '5': 3, '6': 5, '7': 6, '8': 7, '9': 8, '10': 10, '11': 11, '12': 12, '13': 13, '14': 15, '15': 18, '16': 21, '17': 24, '18': 26, '19': 29, '20': 31, '21': 35, '22': 37, '23': 40, '24': 42, '25': 45, '26': 48, '27': 50, '28': 53, '29': 56, '30': 59, '31': 62, '32': 63, '33': 67, '34': 69, '35': 72, '36': 74, '37': 78, '38': 80, '39': 83, '40': 85, '41': 88, '42': 91, '43': 93, '44': 96, '45': 99, '46': 102, '47': 105, '48': 106, '49': 110, '50': 112, '51': 115, '52': 117, '53': 121, '54': 123, '55': 126, '56': 128, '57': 131, '58': 134, '59': 136, '60': 139, '61': 142, '62': 144, '63': 147, '64': 150, '65': 153, '66': 156, '67': 157, '68': 161, '69': 163, '70': 166, '71': 169, '72': 171, '73': 174, '74': 176, '75': 180, '76': 182, '77': 184, '78': 188, '79': 190, '80': 192, '81': 196, '82': 198, '83': 201, '84': 203, '85': 206, '86': 209, '87': 212, '88': 214, '89': 217, '90': 220, '91': 222, '92': 225, '93': 228, '94': 231, '95': 233, '96': 236, '97': 238, '98': 241, '99': 244, '100': 246, '101': 250, '102': 252, '103': 255, '104': 257, '105': 260, '106': 263, '107': 265, '108': 268, '109': 270, '110': 274, '111': 276, '112': 279, '113': 282, '114': 284, '115': 287, '116': 289, '117': 292, '118': 295, '119': 298, '120': 300, '121': 303, '122': 305, '123': 309, '124': 312, '125': 314, '126': 316, '127': 319}
mousd = {'0': 0, '1': 0, '2': 0, '3': 1, '4': 2, '5': 3, '6': 4, '7': 6, '8': 7, '9': 8, '10': 9, '11': 11, '12': 13, '13': 14, '14': 16, '15': 18, '16': 21, '17': 23, '18': 27, '19': 29, '20': 32, '21': 34, '22': 37, '23': 40, '24': 42, '25': 45, '26': 48, '27': 50, '28': 53, '29': 56, '30': 58, '31': 61, '32': 64, '33': 67, '34': 69, '35': 72, '36': 74, '37': 77, '38': 80, '39': 83, '40': 85, '41': 88, '42': 91, '43': 93, '44': 96, '45': 99, '46': 101, '47': 104, '48': 107, '49': 110, '50': 113, '51': 115, '52': 118, '53': 120, '54': 123, '55': 126, '56': 128, '57': 131, '58': 134, '59': 137, '60': 139, '61': 142, '62': 145, '63': 147, '64': 150, '65': 152, '66': 155, '67': 158, '68': 161, '69': 163, '70': 166, '71': 168, '72': 172, '73': 174, '74': 177, '75': 179, '76': 182, '77': 185, '78': 187, '79': 190, '80': 193, '81': 196, '82': 198, '83': 201, '84': 204, '85': 206, '86': 209, '87': 212, '88': 215, '89': 217, '90': 219, '91': 223, '92': 225, '93': 228, '94': 231, '95': 233, '96': 235, '97': 239, '98': 241, '99': 244, '100': 246, '101': 249, '102': 252, '103': 255, '104': 257, '105': 260, '106': 262, '107': 266, '108': 269, '109': 271, '110': 273, '111': 277, '112': 279, '113': 282, '114': 284, '115': 286, '116': 290, '117': 292, '118': 295, '119': 297, '120': 301, '121': 303, '122': 306, '123': 308, '124': 311, '125': 314, '126': 316, '127': 319}
mousa = {'0': 0, '1': 2, '2': 4, '3': 6, '4': 8, '5': 10, '6': 12, '7': 14, '8': 16, '9': 18, '10': 20, '11': 22, '12': 24, '13': 26, '14': 28, '15': 30, '16': 32, '17': 34, '18': 36, '19': 38, '20': 40, '21': 42, '22': 44, '23': 46, '24': 48, '25': 50, '26': 52, '27': 54, '28': 56, '29': 58, '30': 60, '31': 62, '32': 64, '33': 66, '34': 68, '35': 70, '36': 72, '37': 74, '38': 76, '39': 78, '40': 80, '41': 82, '42': 84, '43': 86, '44': 88, '45': 90, '46': 92, '47': 94, '48': 96, '49': 98, '50': 100, '51': 102, '52': 104, '53': 106, '54': 108, '55': 110, '56': 112, '57': 114, '58': 116, '59': 118, '60': 120, '61': 122, '62': 124, '63': 126, '64': 128, '65': 130, '66': 132, '67': 134, '68': 136, '69': 138, '70': 140, '71': 142, '72': 144, '73': 146, '74': 148, '75': 150, '76': 152, '77': 154, '78': 156, '79': 158, '80': 160, '81': 162, '82': 164, '83': 166, '84': 168, '85': 170, '86': 172, '87': 174, '88': 176, '89': 178, '90': 180, '91': 182, '92': 184, '93': 186, '94': 188, '95': 190, '96': 192, '97': 194, '98': 196, '99': 198, '100': 200, '101': 202, '102': 204, '103': 206, '104': 208, '105': 210, '106': 212, '107': 214, '108': 216, '109': 218, '110': 220, '111': 222, '112': 224, '113': 226, '114': 228, '115': 230, '116': 232, '117': 234, '118': 236, '119': 238, '120': 240, '121': 242, '122': 244, '123': 246, '124': 248, '125': 250, '126': 252, '127': 254}



mousd = {}
# def shabi(index):
    # return zhi

for i in range(128):

    mousd[str(i)] = int(i * 2.5)
print(mousd)
# mousd = {'0': 0, '1': 0, '2': 1, '3': 1, '4': 2, '5': 3, '6': 5, '7': 6, '8': 7, '9': 8, '10': 10, '11': 11, '12': 12, '13': 13, '14': 15, '15': 18, '16': 21, '17': 24, '18': 26, '19': 29, '20': 31, '21': 35, '22': 37, '23': 40, '24': 42, '25': 45, '26': 48, '27': 50, '28': 53, '29': 56, '30': 59, '31': 62, '32': 63, '33': 67, '34': 69, '35': 72, '36': 74, '37': 78, '38': 80, '39': 83, '40': 85, '41': 88, '42': 91, '43': 93, '44': 96, '45': 99, '46': 102, '47': 105, '48': 106, '49': 110, '50': 112, '51': 115, '52': 117, '53': 121, '54': 123, '55': 126, '56': 128, '57': 131, '58': 134, '59': 136, '60': 139, '61': 142, '62': 144, '63': 147, '64': 150, '65': 153, '66': 156, '67': 157, '68': 161, '69': 163, '70': 166, '71': 169, '72': 171, '73': 174, '74': 176, '75': 180, '76': 182, '77': 184, '78': 188, '79': 190, '80': 192, '81': 196, '82': 198, '83': 201, '84': 203, '85': 206, '86': 209, '87': 212, '88': 214, '89': 217, '90': 220, '91': 222, '92': 225, '93': 228, '94': 231, '95': 233, '96': 236, '97': 238, '98': 241, '99': 244, '100': 246, '101': 250, '102': 252, '103': 255, '104': 257, '105': 260, '106': 263, '107': 265, '108': 268, '109': 270, '110': 274, '111': 276, '112': 279, '113': 282, '114': 284, '115': 287, '116': 289, '117': 292, '118': 295, '119': 298, '120': 300, '121': 303, '122': 305, '123': 309, '124': 312, '125': 314, '126': 316, '127': 319}
# mousd = {'0': 0, '1': 0, '2': 0, '3': 1, '4': 2, '5': 3, '6': 4, '7': 6, '8': 7, '9': 8, '10': 9, '11': 11, '12': 13, '13': 14, '14': 16, '15': 18, '16': 21, '17': 23, '18': 27, '19': 29, '20': 32, '21': 34, '22': 37, '23': 40, '24': 42, '25': 45, '26': 48, '27': 50, '28': 53, '29': 56, '30': 58, '31': 61, '32': 64, '33': 67, '34': 69, '35': 72, '36': 74, '37': 77, '38': 80, '39': 83, '40': 85, '41': 88, '42': 91, '43': 93, '44': 96, '45': 99, '46': 101, '47': 104, '48': 107, '49': 110, '50': 113, '51': 115, '52': 118, '53': 120, '54': 123, '55': 126, '56': 128, '57': 131, '58': 134, '59': 137, '60': 139, '61': 142, '62': 145, '63': 147, '64': 150, '65': 152, '66': 155, '67': 158, '68': 161, '69': 163, '70': 166, '71': 168, '72': 172, '73': 174, '74': 177, '75': 179, '76': 182, '77': 185, '78': 187, '79': 190, '80': 193, '81': 196, '82': 198, '83': 201, '84': 204, '85': 206, '86': 209, '87': 212, '88': 215, '89': 217, '90': 219, '91': 223, '92': 225, '93': 228, '94': 231, '95': 233, '96': 235, '97': 239, '98': 241, '99': 244, '100': 246, '101': 249, '102': 252, '103': 255, '104': 257, '105': 260, '106': 262, '107': 266, '108': 269, '109': 271, '110': 273, '111': 277, '112': 279, '113': 282, '114': 284, '115': 286, '116': 290, '117': 292, '118': 295, '119': 297, '120': 301, '121': 303, '122': 306, '123': 308, '124': 311, '125': 314, '126': 316, '127': 319}



